set -e

g++ -o sol sol.cpp grader.cpp
g++ -o slow slow.cpp grader.cpp
g++ -o gen gen.cpp

while true; do
    ./gen > input
    ./fast < input > out 
    ./slow < input > out2 
    diff out out2 > /dev/null || break
    echo "Passed test case"
    echo
done
